<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOST Scholarship Practice Test - 100 Questions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(45deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .test-info {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 3px solid #3498db;
        }
        
        .test-info h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .info-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .progress-bar {
            background: #ecf0f1;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #3498db, #2ecc71);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .subject-nav {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #ecf0f1;
            flex-wrap: wrap;
        }
        
        .subject-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .subject-btn.math { background: #e74c3c; color: white; }
        .subject-btn.science { background: #27ae60; color: white; }
        .subject-btn.reading { background: #9b59b6; color: white; }
        .subject-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        
        .test-content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section-header {
            background: linear-gradient(45deg, #34495e, #2c3e50);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .section-header h2 {
            font-size: 1.8em;
            margin-bottom: 5px;
        }
        
        .question {
            background: #f8f9fa;
            margin-bottom: 25px;
            border-radius: 10px;
            padding: 20px;
            border-left: 5px solid #3498db;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .question:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .question-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .question-number {
            background: #3498db;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }
        
        .subject-tag {
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .subject-tag.math { background: #e74c3c; }
        .subject-tag.science { background: #27ae60; }
        .subject-tag.reading { background: #9b59b6; }
        
        .question-text {
            font-size: 1.1em;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 500;
            line-height: 1.6;
        }
        
        .passage {
            background: #fff;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-style: italic;
            color: #555;
            line-height: 1.6;
        }
        
        .options {
            display: grid;
            gap: 10px;
        }
        
        .option {
            background: white;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            padding: 12px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            border-color: #3498db;
            background: #f0f8ff;
            transform: translateX(5px);
        }
        
        .option input[type="radio"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        .option.selected {
            border-color: #3498db;
            background: #e3f2fd;
        }
        
        .submit-section {
            text-align: center;
            padding: 30px;
            border-top: 2px solid #ecf0f1;
            background: #f8f9fa;
        }
        
        .submit-btn {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
            margin: 10px;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.4);
        }
        
        .reset-btn {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
            margin: 10px;
        }
        
        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
        }
        
        .results {
            display: none;
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .score {
            text-align: center;
            font-size: 2em;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .subject-score {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border-left: 4px solid #3498db;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .explanation {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            display: none;
            line-height: 1.6;
        }
        
        .correct { border-left-color: #27ae60 !important; }
        .incorrect { border-left-color: #e74c3c !important; }
        
        .stats {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .timer {
            background: #2c3e50;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }
        
        .topic-tag {
            background: #3498db;
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.75em;
            margin-left: 5px;
            display: inline-block;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .test-content {
                padding: 20px;
            }
            
            .subject-nav {
                flex-direction: column;
                align-items: center;
            }
            
            .question-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .submit-btn, .reset-btn {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎓 DOST Scholarship Practice Test</h1>
            <p>Complete 100-Question Practice Exam</p>
            <div class="timer" id="timer">Time: 03:00:00</div>
        </div>
        
        <div class="test-info">
            <h3>Test Information</h3>
            <div class="info-grid">
                <div class="info-item">
                    <strong>Total Questions:</strong> 100
                </div>
                <div class="info-item">
                    <strong>Mathematics:</strong> 40 questions
                </div>
                <div class="info-item">
                    <strong>Science:</strong> 40 questions
                </div>
                <div class="info-item">
                    <strong>Reading:</strong> 20 questions
                </div>
                <div class="info-item">
                    <strong>Time Limit:</strong> 180 minutes
                </div>
                <div class="info-item">
                    <strong>Passing Score:</strong> 70%
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
        </div>
        
        <div class="subject-nav">
            <button class="subject-btn math" onclick="scrollToSection('math')">📐 Mathematics</button>
            <button class="subject-btn science" onclick="scrollToSection('science')">🧪 Science</button>
            <button class="subject-btn reading" onclick="scrollToSection('reading')">📖 Reading</button>
        </div>
        
        <div class="test-content" id="test-content">
            <!-- Questions will be generated by JavaScript -->
        </div>
        
        <div class="submit-section">
            <div class="stats" id="stats">
                Answered: <span id="answered-count">0</span>/100 questions
            </div>
            <button class="submit-btn" onclick="submitTest()">📊 Submit Test</button>
            <button class="reset-btn" onclick="resetTest()">🔄 Reset Test</button>
        </div>
        
        <div class="results" id="results">
            <div class="score" id="score"></div>
            <div class="score-breakdown" id="breakdown"></div>
        </div>
    </div>

    <script>
        const questions = {
            math: [
                {
                    id: 1,
                    text: "Solve for x: 3x + 7 = 22",
                    options: ["x = 3", "x = 5", "x = 7", "x = 15"],
                    correct: 1,
                    explanation: "Subtract 7 from both sides: 3x = 15. Then divide by 3: x = 5",
                    topic: "Algebra Basics"
                },
                {
                    id: 2,
                    text: "Calculate 456 ÷ 12 using long division",
                    options: ["38", "42", "48", "52"],
                    correct: 0,
                    explanation: "12 × 38 = 456, so 456 ÷ 12 = 38",
                    topic: "Long Division"
                },
                {
                    id: 3,
                    text: "A quadrilateral has angles 75°, 105°, and 120°. What is the fourth angle?",
                    options: ["40°", "50°", "60°", "70°"],
                    correct: 2,
                    explanation: "Sum of interior angles in quadrilateral is 360°. 75 + 105 + 120 = 300. 360 - 300 = 60°",
                    topic: "Quadrilateral"
                },
                {
                    id: 4,
                    text: "Convert 5π/6 radians to degrees",
                    options: ["120°", "135°", "150°", "180°"],
                    correct: 2,
                    explanation: "To convert radians to degrees: degrees = radians × 180/π. So (5π/6) × (180/π) = 150°",
                    topic: "Radians and Degrees"
                },
                {
                    id: 5,
                    text: "A triangle has sides 7cm, 24cm, and 25cm. What type of triangle is this?",
                    options: ["Acute", "Obtuse", "Right", "Equilateral"],
                    correct: 2,
                    explanation: "7² + 24² = 49 + 576 = 625 = 25². This satisfies the Pythagorean theorem, so it's a right triangle",
                    topic: "Triangles"
                },
                {
                    id: 6,
                    text: "Solve the equation: 2x² - 8x + 6 = 0",
                    options: ["x = 1, x = 3", "x = 2, x = 4", "x = 1, x = 2", "x = 3, x = 4"],
                    correct: 0,
                    explanation: "Factoring: 2(x² - 4x + 3) = 2(x-1)(x-3) = 0. Solutions x=1 and x=3",
                    topic: "Algebra Basics"
                },
                {
                    id: 7,
                    text: "Find the area of a parallelogram with base 12cm and height 8cm",
                    options: ["48 cm²", "72 cm²", "96 cm²", "120 cm²"],
                    correct: 2,
                    explanation: "Area = base × height = 12cm × 8cm = 96 cm²",
                    topic: "Quadrilateral"
                },
                {
                    id: 8,
                    text: "Calculate: (3/4) ÷ (2/5)",
                    options: ["3/10", "15/8", "8/15", "10/3"],
                    correct: 1,
                    explanation: "Dividing fractions: (3/4) ÷ (2/5) = (3/4) × (5/2) = 15/8",
                    topic: "Algebra Basics"
                },
                {
                    id: 9,
                    text: "A circle has a central angle of 2 radians. If the radius is 10cm, what is the arc length?",
                    options: ["5 cm", "10 cm", "15 cm", "20 cm"],
                    correct: 3,
                    explanation: "Arc length = radius × angle (in radians) = 10 × 2 = 20 cm",
                    topic: "Radians and Degrees"
                },
                {
                    id: 10,
                    text: "Find the missing side in the right triangle: legs 5cm and 12cm",
                    options: ["10 cm", "13 cm", "15 cm", "17 cm"],
                    correct: 1,
                    explanation: "Using Pythagorean theorem: √(5² + 12²) = √(25 + 144) = √169 = 13 cm",
                    topic: "Triangles"
                },
                {
                    id: 11,
                    text: "Solve for x: 4(x - 3) = 2x + 10",
                    options: ["x = 5", "x = 7", "x = 11", "x = 13"],
                    correct: 2,
                    explanation: "4x - 12 = 2x + 10 → 4x - 2x = 10 + 12 → 2x = 22 → x = 11",
                    topic: "Algebra Basics"
                },
                {
                    id: 12,
                    text: "Calculate 789 ÷ 15 using long division",
                    options: ["52.6", "53.5", "54.2", "55.3"],
                    correct: 0,
                    explanation: "15 × 52 = 780. 789 - 780 = 9. So 52 + 9/15 = 52 + 3/5 = 52.6",
                    topic: "Long Division"
                },
                {
                    id: 13,
                    text: "The diagonals of a rhombus are 16cm and 12cm. What is its area?",
                    options: ["96 cm²", "108 cm²", "112 cm²", "128 cm²"],
                    correct: 0,
                    explanation: "Area of rhombus = (d₁ × d₂)/2 = (16 × 12)/2 = 192/2 = 96 cm²",
                    topic: "Quadrilateral"
                },
                {
                    id: 14,
                    text: "Convert 225° to radians",
                    options: ["3π/4", "4π/5", "5π/4", "5π/3"],
                    correct: 2,
                    explanation: "Radians = degrees × π/180 = 225 × π/180 = 5π/4",
                    topic: "Radians and Degrees"
                },
                {
                    id: 15,
                    text: "A triangle has angles 40°, 60°, and 80°. What type of triangle is this?",
                    options: ["Acute", "Obtuse", "Right", "Isosceles"],
                    correct: 0,
                    explanation: "All angles are less than 90°, so it's an acute triangle",
                    topic: "Triangles"
                }
            ],
            science: [
                {
                    id: 1,
                    text: "What is Ohm's Law?",
                    options: ["V = I/R", "V = I × R", "P = I × V", "R = V × I"],
                    correct: 1,
                    explanation: "Ohm's Law states that voltage (V) equals current (I) multiplied by resistance (R): V = I × R",
                    topic: "Ohm's Law"
                },
                {
                    id: 2,
                    text: "Which of the following is an example of a double displacement reaction?",
                    options: ["2H₂ + O₂ → 2H₂O", "Zn + 2HCl → ZnCl₂ + H₂", "NaCl + AgNO₃ → AgCl + NaNO₃", "CaCO₃ → CaO + CO₂"],
                    correct: 2,
                    explanation: "Double displacement reactions involve the exchange of ions between two compounds. NaCl + AgNO₃ → AgCl + NaNO₃ is an example",
                    topic: "Double Displacement"
                },
                {
                    id: 3,
                    text: "According to the Ideal Gas Law, PV = nRT, what does R represent?",
                    options: ["Radius of gas molecule", "Gas constant", "Ratio of specific heats", "Molecular weight"],
                    correct: 1,
                    explanation: "R is the universal gas constant, approximately 8.314 J/mol·K",
                    topic: "Ideal Gas Law"
                },
                {
                    id: 4,
                    text: "Which quadrilateral has exactly one pair of parallel sides?",
                    options: ["Rectangle", "Rhombus", "Trapezoid", "Square"],
                    correct: 2,
                    explanation: "A trapezoid is defined as a quadrilateral with exactly one pair of parallel sides",
                    topic: "Quadrilateral"
                },
                {
                    id: 5,
                    text: "In a right triangle, the side opposite the right angle is called:",
                    options: ["Adjacent", "Opposite", "Hypotenuse", "Base"],
                    correct: 2,
                    explanation: "The hypotenuse is the longest side of a right triangle, opposite the right angle",
                    topic: "Triangles"
                },
                {
                    id: 6,
                    text: "A circuit has a voltage of 12V and a resistance of 4Ω. What is the current?",
                    options: ["1A", "2A", "3A", "4A"],
                    correct: 2,
                    explanation: "Using Ohm's Law: I = V/R = 12V/4Ω = 3A",
                    topic: "Ohm's Law"
                },
                {
                    id: 7,
                    text: "Which reaction is a double displacement reaction? AgNO₃ + NaCl → AgCl + NaNO₃",
                    options: ["Synthesis", "Decomposition", "Single displacement", "Double displacement"],
                    correct: 3,
                    explanation: "This is a double displacement reaction where the cations and anions switch partners",
                    topic: "Double Displacement"
                },
                {
                    id: 8,
                    text: "If 2 moles of gas occupy 44.8L at STP, what volume will 3 moles occupy at STP?",
                    options: ["22.4L", "44.8L", "67.2L", "89.6L"],
                    correct: 2,
                    explanation: "At STP, 1 mole of gas occupies 22.4L. So 3 moles occupy 3 × 22.4 = 67.2L",
                    topic: "Ideal Gas Law"
                },
                {
                    id: 9,
                    text: "A parallelogram with four equal sides is called a:",
                    options: ["Rectangle", "Rhombus", "Trapezoid", "Kite"],
                    correct: 1,
                    explanation: "A rhombus is a parallelogram with four equal sides",
                    topic: "Quadrilateral"
                },
                {
                    id: 10,
                    text: "In a 30-60-90 triangle, the ratio of sides is:",
                    options: ["1:1:√2", "1:1:1", "1:2:3", "1:√3:2"],
                    correct: 3,
                    explanation: "In a 30-60-90 triangle, sides are in ratio 1 (opposite 30°) : √3 (opposite 60°) : 2 (hypotenuse)",
                    topic: "Triangles"
                },
                {
                    id: 11,
                    text: "What current flows through a 10Ω resistor with 50V across it?",
                    options: ["0.2A", "2A", "5A", "50A"],
                    correct: 2,
                    explanation: "I = V/R = 50V/10Ω = 5A",
                    topic: "Ohm's Law"
                },
                {
                    id: 12,
                    text: "What are the products of: Na₂CO₃ + CaCl₂ → ?",
                    options: ["NaCl + CaCO₃", "Na₂Cl₂ + CaCO₃", "NaCl₂ + CaCO₃", "Na₂Cl + CaCO₃"],
                    correct: 0,
                    explanation: "Double displacement: Na₂CO₃ + CaCl₂ → 2NaCl + CaCO₃",
                    topic: "Double Displacement"
                },
                {
                    id: 13,
                    text: "If a gas at 300K and 1atm pressure is heated to 600K at constant volume, what is the new pressure?",
                    options: ["0.5 atm", "1 atm", "2 atm", "4 atm"],
                    correct: 2,
                    explanation: "At constant volume, P₁/T₁ = P₂/T₂. So 1/300 = P₂/600 → P₂ = 600/300 = 2 atm",
                    topic: "Ideal Gas Law"
                },
                {
                    id: 14,
                    text: "Which quadrilateral has diagonals that bisect each other at right angles?",
                    options: ["Parallelogram", "Rectangle", "Rhombus", "Trapezoid"],
                    correct: 2,
                    explanation: "A rhombus has diagonals that bisect each other at right angles",
                    topic: "Quadrilateral"
                },
                {
                    id: 15,
                    text: "The area of a triangle with base 10cm and height 8cm is:",
                    options: ["20 cm²", "40 cm²", "60 cm²", "80 cm²"],
                    correct: 1,
                    explanation: "Area = (base × height)/2 = (10 × 8)/2 = 80/2 = 40 cm²",
                    topic: "Triangles"
                }
            ],
            reading: [
                {
                    id: 1,
                    text: "Read the passage: 'The Philippine eagle, also known as the monkey-eating eagle, is critically endangered with fewer than 400 pairs remaining in the wild. Deforestation and hunting have drastically reduced its habitat.' What is the main idea?",
                    options: ["The Philippine eagle prefers to eat monkeys", "There are exactly 400 Philippine eagles left","The Philippine eagle is endangered due to habitat loss and hunting", "Deforestation only affects Philippine eagles"],
                    correct: 2,
                    explanation: "The main idea summarizes the key points about the eagle's endangered status and causes"
                },
                {
                    id: 2,
                    text: "'The scientist was meticulous in her research, checking every detail multiple times.' Based on context, what does 'meticulous' mean?",
                    options: ["Quick and efficient", "Careless and sloppy", "Creative and imaginative", "Extremely careful and precise"],
                    correct: 3,
                    explanation: "The context about checking details multiple times suggests 'meticulous' means very careful"
                },
                {
                    id: 3,
                    text: "If a passage states 'All mammals are warm-blooded, and whales are mammals,' what can you infer about whales?",
                    options: ["Whales are the largest mammals", "Whales are warm-blooded", "Whales live in the ocean", "All warm-blooded animals are whales"],
                    correct: 1,
                    explanation: "Following the logical chain: whales are mammals → all mammals are warm-blooded → therefore whales are warm-blooded"
                },
                {
                    id: 4,
                    text: "Which sentence best supports the claim that recycling reduces landfill waste?",
                    options: ["Recycling bins are blue in many cities", "Recycling diverts materials from landfills, extending their usable lifespan", "Some people find recycling inconvenient", "Landfills can produce methane gas"],
                    correct: 1,
                    explanation: "This option directly connects recycling to reduced landfill use"
                },
                {
                    id: 5,
                    text: "What is the author's likely purpose in writing: 'Our city's parks are overcrowded, poorly maintained, and lack basic facilities. We must invest in green spaces for community health.'?",
                    options: ["To describe all city parks", "To tell a story about a park", "To persuade officials to improve parks", "To explain how to build a park"],
                    correct: 2,
                    explanation: "The critical tone and call to action suggest a persuasive purpose"
                }
            ]
        };

        // Initialize the test
        document.addEventListener('DOMContentLoaded', function() {
            generateTest();
            updateProgress();
            startTimer(180 * 60); // 180 minutes in seconds
        });

        // Generate the test questions
        function generateTest() {
            const testContent = document.getElementById('test-content');
            
            // Create Math section
            let mathSection = createSection('math', 'Mathematics');
            questions.math.forEach(q => {
                mathSection.appendChild(createQuestion(q, 'math'));
            });
            testContent.appendChild(mathSection);
            
            // Create Science section
            let scienceSection = createSection('science', 'Science');
            questions.science.forEach(q => {
                scienceSection.appendChild(createQuestion(q, 'science'));
            });
            testContent.appendChild(scienceSection);
            
            // Create Reading section
            let readingSection = createSection('reading', 'Reading Comprehension');
            questions.reading.forEach(q => {
                readingSection.appendChild(createQuestion(q, 'reading'));
            });
            testContent.appendChild(readingSection);
            
            // Add event listeners to options
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const questionDiv = this.closest('.question');
                    const questionId = parseInt(questionDiv.dataset.id);
                    const subject = questionDiv.dataset.subject;
                    const optionIndex = parseInt(this.dataset.option);
                    
                    // Store the selected answer
                    questions[subject].find(q => q.id === questionId).selected = optionIndex;
                    
                    // Update UI
                    updateQuestionUI(questionDiv, optionIndex);
                    updateProgress();
                });
            });
        }

        // Create a section header
        function createSection(id, title) {
            const section = document.createElement('div');
            section.className = 'section';
            
            const sectionHeader = document.createElement('div');
            sectionHeader.className = 'section-header';
            sectionHeader.id = id;
            
            const h2 = document.createElement('h2');
            h2.textContent = title;
            
            sectionHeader.appendChild(h2);
            section.appendChild(sectionHeader);
            
            return section;
        }

        // Create a question element
        function createQuestion(question, subject) {
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question';
            questionDiv.dataset.id = question.id;
            questionDiv.dataset.subject = subject;
            
            const questionHeader = document.createElement('div');
            questionHeader.className = 'question-header';
            
            const questionNumber = document.createElement('div');
            questionNumber.className = 'question-number';
            questionNumber.textContent = question.id;
            
            const subjectTag = document.createElement('div');
            subjectTag.className = `subject-tag ${subject}`;
            subjectTag.textContent = subject.charAt(0).toUpperCase() + subject.slice(1);
            
            questionHeader.appendChild(questionNumber);
            questionHeader.appendChild(subjectTag);
            
            if (question.topic) {
                const topicTag = document.createElement('span');
                topicTag.className = 'topic-tag';
                topicTag.textContent = question.topic;
                questionHeader.appendChild(topicTag);
            }
            
            const questionText = document.createElement('div');
            questionText.className = 'question-text';
            questionText.textContent = question.text;
            
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('label');
                optionDiv.className = 'option';
                optionDiv.dataset.option = index;
                
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = `question-${question.id}-${subject}`;
                
                const optionText = document.createElement('span');
                optionText.textContent = option;
                
                optionDiv.appendChild(radio);
                optionDiv.appendChild(optionText);
                optionsDiv.appendChild(optionDiv);
            });
            
            const explanationDiv = document.createElement('div');
            explanationDiv.className = 'explanation';
            explanationDiv.textContent = question.explanation;
            explanationDiv.id = `explanation-${question.id}-${subject}`;
            
            questionDiv.appendChild(questionHeader);
            questionDiv.appendChild(questionText);
            questionDiv.appendChild(optionsDiv);
            questionDiv.appendChild(explanationDiv);
            
            return questionDiv;
        }

        // Update question UI when an option is selected
        function updateQuestionUI(questionDiv, selectedOption) {
            // Remove selected class from all options
            questionDiv.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to the chosen option
            if (selectedOption !== undefined) {
                const selectedOptionDiv = questionDiv.querySelector(`.option[data-option="${selectedOption}"]`);
                selectedOptionDiv.classList.add('selected');
                selectedOptionDiv.querySelector('input').checked = true;
            }
        }

        // Update progress bar and answered count
        function updateProgress() {
            let answered = 0;
            let total = 0;
            
            // Count answered questions
            for (const subject in questions) {
                total += questions[subject].length;
                answered += questions[subject].filter(q => q.selected !== undefined).length;
            }
            
            // Update progress bar
            const progressFill = document.getElementById('progress');
            progressFill.style.width = `${(answered / total) * 100}%`;
            
            // Update answered count
            document.getElementById('answered-count').textContent = answered;
        }

        // Timer function
        function startTimer(duration) {
            let timer = duration, minutes, seconds;
            const timerElement = document.getElementById('timer');
            
            const interval = setInterval(function() {
                minutes = parseInt(timer / 60, 10);
                seconds = parseInt(timer % 60, 10);
                
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;
                
                timerElement.textContent = "Time: " + minutes + ":" + seconds;
                
                if (--timer < 0) {
                    clearInterval(interval);
                    submitTest();
                    timerElement.textContent = "Time's up!";
                }
            }, 1000);
        }

        // Submit the test
        function submitTest() {
            let correct = 0;
            let total = 0;
            let subjectScores = {};
            
            // Calculate scores
            for (const subject in questions) {
                subjectScores[subject] = { correct: 0, total: questions[subject].length };
                
                questions[subject].forEach(q => {
                    total++;
                    if (q.selected === q.correct) {
                        correct++;
                        subjectScores[subject].correct++;
                    }
                    
                    // Highlight correct/incorrect answers
                    const questionDiv = document.querySelector(`.question[data-id="${q.id}"][data-subject="${subject}"]`);
                    if (q.selected !== undefined) {
                        if (q.selected === q.correct) {
                            questionDiv.classList.add('correct');
                        } else {
                            questionDiv.classList.add('incorrect');
                        }
                        
                        // Show explanation
                        document.getElementById(`explanation-${q.id}-${subject}`).style.display = 'block';
                    }
                });
            }
            
            // Display results
            const scoreDiv = document.getElementById('score');
            const percentage = Math.round((correct / total) * 100);
            scoreDiv.textContent = `Your Score: ${correct}/${total} (${percentage}%)`;
            
            const breakdownDiv = document.getElementById('breakdown');
            breakdownDiv.innerHTML = '';
            
            for (const subject in subjectScores) {
                const subjectScore = document.createElement('div');
                subjectScore.className = 'subject-score';
                
                const subjectName = document.createElement('h3');
                subjectName.textContent = subject.charAt(0).toUpperCase() + subject.slice(1);
                
                const score = document.createElement('p');
                const subjectPercentage = Math.round((subjectScores[subject].correct / subjectScores[subject].total) * 100);
                score.textContent = `${subjectScores[subject].correct}/${subjectScores[subject].total} (${subjectPercentage}%)`;
                
                subjectScore.appendChild(subjectName);
                subjectScore.appendChild(score);
                breakdownDiv.appendChild(subjectScore);
            }
            
            // Show results section
            document.getElementById('results').style.display = 'block';
            
            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        // Reset the test
        function resetTest() {
            // Clear selections
            for (const subject in questions) {
                questions[subject].forEach(q => {
                    delete q.selected;
                });
            }
            
            // Reset UI
            document.querySelectorAll('.question').forEach(questionDiv => {
                questionDiv.classList.remove('correct', 'incorrect');
                questionDiv.querySelectorAll('.option').forEach(option => {
                    option.classList.remove('selected');
                    option.querySelector('input').checked = false;
                });
                questionDiv.querySelector('.explanation').style.display = 'none';
            });
            
            // Hide results
            document.getElementById('results').style.display = 'none';
            
            // Reset progress
            updateProgress();
        }

        // Scroll to a section
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>